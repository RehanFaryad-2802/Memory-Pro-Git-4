<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Memory Pro</title>
    <link rel="stylesheet" href="style.css" />
    <link rel="stylesheet" href="highlight.css" />
  </head>
  <body>
    <div class="container">
      <header class="top-row">
        <div class="title">
          <img src="icon.png" alt="icon" class="logo" />
          <h1>Memory Pro <sup style="font-size: 12px">(5.3.4)</sup></h1>
        </div>
        <div class="top-controls">
          <input id="search" placeholder="Search by text or tag..." />
          <button id="viewToggle" title="Toggle grid/list">‚ñ¶</button>
          <button id="groupToggle" title="Toggle group by tag/date">‚ò∞</button>
          <button id="openInTabBtn" title="Open in New Tab">‚Üó</button>
        </div>
      </header>

      <section class="create">
        <textarea id="newText" placeholder="Type or paste text..."></textarea>
        <div class="create-row">
          <input
            id="newTag"
            placeholder="Tag(s) ‚Äî comma separated (optional)"
          />
          <label class="toggle">
            <input id="pinOnAdd" type="checkbox" />
            <span class="slider"></span>
            <span class="label-text">Pin</span>
          </label>
          <button id="addBtn">Add</button>
        </div>
        <div
          id="syncStatus"
          title="Sync status"
          style="
            margin-left: 8px;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 12px;
            background: var(--glass);
          "
        >
          ‚óè Only on this computer
        </div>
        <div class="small-controls">
          <button title="GitHub Settings" id="githubSettingsBtn">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="24"
              height="24"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
              class="lucide lucide-github-icon lucide-github"
            >
              <path
                d="M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4"
              />
              <path d="M9 18c-4.51 2-5-2-7-2" />
            </svg>
          </button>
          <input
            id="importFile"
            type="file"
            accept=".json"
            style="display: none"
          />
          <button title="Duplicate" id="duplicateBtn">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="24"
              height="24"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
              class="lucide lucide-copy-icon lucide-copy"
            >
              <rect width="14" height="14" x="8" y="8" rx="2" ry="2" />
              <path
                d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"
              />
            </svg>
          </button>
          <button title="Merge Selected Content" id="mergeBtn">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="24"
              height="24"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
              class="lucide lucide-merge-icon lucide-merge"
            >
              <path d="m8 6 4-4 4 4" />
              <path d="M12 2v10.3a4 4 0 0 1-1.172 2.872L4 22" />
              <path d="m20 22-5-5" />
            </svg>
          </button>
          <button title="Export data" id="exportBtn">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="24"
              height="24"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
              class="lucide lucide-folder-up-icon lucide-folder-up"
            >
              <path
                d="M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z"
              />
              <path d="M12 10v6" />
              <path d="m9 13 3-3 3 3" />
            </svg>
          </button>
          <!-- <button title="Export Selected Content" id="exportSelBtn">üì§</button> -->
          <button title="Import Content" id="importBtn">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="24"
              height="24"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
              class="lucide lucide-import-icon lucide-import"
            >
              <path d="M12 3v12" />
              <path d="m8 11 4 4 4-4" />
              <path
                d="M8 5H4a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2h-4"
              />
            </svg>
          </button>
          <button title="Delete all" id="clearAll">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="24"
              height="24"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
              class="lucide lucide-trash-icon lucide-trash"
            >
              <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6" />
              <path d="M3 6h18" />
              <path d="M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2" />
            </svg>
          </button>
        </div>
      </section>

      <div id="tagBar" class="tag-bar"></div>

      <div id="listContainer" class="list-container list-view">
        <!-- items rendered here -->
        <ul id="memoryList" class="memory-list"></ul>
      </div>

      <div id="githubModal" class="modal hidden">
        <div class="modal-content">
          <h3>GitHub Config</h3>

          <div
            style="
              background: rgba(46, 166, 255, 0.1);
              padding: 10px;
              border-radius: 6px;
              margin-bottom: 15px;
              font-size: 12px;
            "
          >
            <strong>Setup Instructions:</strong>
            <ol style="margin: 8px 0; padding-left: 20px">
              <li>Create a repository on GitHub first</li>
              <li>
                Make and ensure your token has <strong>repo</strong> permissions
              </li>
            </ol>
          </div>

          <label>
            GitHub id:
            <input type="text" id="githubOwner" placeholder="your-username" />
          </label>
          <label>
            Repository Name:
            <input type="text" id="githubRepo" placeholder="memory-data" />
          </label>
          <label>
            File Name:
            <input type="text" id="githubPath" value="memory.json" />
          </label>
          <label>
            Personal Access Token:
            <input type="text" id="githubToken" />
            <div style="font-size: 11px; color: var(--muted); margin-top: 4px">
              Required permissions: <strong>repo</strong>
            </div>
          </label>
          <div
            style="
              background: rgba(255, 100, 100, 0.15);
              padding: 10px;
              border-radius: 6px;
              margin: 10px 0;
              border-left: 3px solid #ff6b6b;
            "
          >
            <strong style="color: #ff6b6b">‚ö†Ô∏è Important:</strong>
            <div style="font-size: 11px; margin-top: 5px">
              Keep your token secret! Never share it or put it in public code.
            </div>
          </div>
          <div class="modal-actions">
            <button id="testGithubConnection">Test Connection</button>
            <button id="saveGithubSettings">Save</button>
            <button id="closeGithubModal">Cancel</button>
          </div>
        </div>
      </div>
    </div>
    <script src="highlight.js"></script>
    <script src="popup.js"></script>
  </body>
</html>
